<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="细节.规范.努力.奋斗">
<meta property="og:type" content="website">
<meta property="og:title" content="MyBlog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="MyBlog">
<meta property="og:description" content="细节.规范.努力.奋斗">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MyBlog">
<meta name="twitter:description" content="细节.规范.努力.奋斗">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>MyBlog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MyBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Robin的程序员之路</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/22/工作中框架的分页/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/22/工作中框架的分页/" itemprop="url">工作中框架的分页</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-22T13:40:31+08:00">
                2019-08-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.情况一：</p>
<p>后台Controller：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult QuestionGroupList(QuestionGroupListSearchViewModel search)</span><br><span class="line">       &#123;</span><br><span class="line">           search.page_index = search.page_index == 0 ? 1 : search.page_index;//这几行 </span><br><span class="line">           search.page_size = search.page_size == 0 ? 10 : search.page_size;//这几行 </span><br><span class="line"></span><br><span class="line">           var dto = search.Map&lt;QuestionGroupListSearchViewModel, QuestionGroupListSearchDTO&gt;(Constant.MapType.LowerToPascal);</span><br><span class="line">           var result = Business.Logic&lt;QuestionGroupLogic&gt;().GetQuestionGroupList(dto);</span><br><span class="line">           var list = result.Map&lt;QuestionGroupListDTO, QuestionGroupListViewModel&gt;(Constant.MapType.PascalToLower);</span><br><span class="line"></span><br><span class="line">           var data = new StaticPagedList&lt;QuestionGroupListViewModel&gt;(list, dto.PageIndex, dto.PageSize, dto.TotalCount);//这几行 </span><br><span class="line">           return Request.IsAjaxRequest() ? (ActionResult)PartialView("_QuestionGroupList", data) : View(data);//这几行 </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<p>对应的View层：<br>QuestionGroupList.cshtml:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model StaticPagedList&lt;QuestionGroupListViewModel&gt;</span></span><br><span class="line"><span class="meta">@&#123;</span></span><br><span class="line">    ViewBag.Title = <span class="string">"题库分类"</span>;</span><br><span class="line">    var QuestionGroupIdList = new List&lt;dynamic&gt; &#123;</span><br><span class="line">        new &#123;id=QuestionGroupConstants.QuestionGroupId.科目一.GetHashCode().ToString(),name = QuestionGroupConstants.QuestionGroupId.科目一.ToString() &#125;,</span><br><span class="line">        new &#123;id=QuestionGroupConstants.QuestionGroupId.科目四.GetHashCode().ToString(),name = QuestionGroupConstants.QuestionGroupId.科目四.ToString() &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section foot&#123;</span></span><br><span class="line">    &lt;script src="~/js/question_group.js"&gt;&lt;/script&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section containerTop&#123;</span></span><br><span class="line">    &lt;div class="ip_container_top"&gt;</span><br><span class="line">        &lt;div class="ip_title"&gt;@ViewBag.Title&lt;/div&gt;</span><br><span class="line">        &lt;a class="ip_create" href="/questiongroup/add"&gt;添加&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@IPHtml.Search.BeginSearch(new SearchAttr &#123; Action = "/questiongroup/questiongrouplist" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Select(QuestionGroupIdList,</span></span><br><span class="line">    r =&gt; r.id, r =&gt; r.name,</span><br><span class="line">    new SelectAttr</span><br><span class="line">    &#123;</span><br><span class="line">        Id = <span class="string">"question_group_id"</span>,</span><br><span class="line">        Label = <span class="string">"科目："</span>,</span><br><span class="line">        PlaceHolder = <span class="string">"全部"</span>,</span><br><span class="line">        Required = <span class="string">"不能为空"</span>,</span><br><span class="line">        SelectedValue = Request[<span class="string">"question_group_id"</span>]</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="meta">@IPHtml.Search.Submit(new SearchSubmitAttr &#123; Id = "question_group_list" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.EndSearch()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.BeginUpdateTarget(new UpdateTargetAttr &#123; Id = "question_group_list" &#125;)</span></span><br><span class="line"><span class="meta">@Html.Partial("_QuestionGroupList", Model)</span></span><br><span class="line"><span class="meta">@IPHtml.EndUpdateTarget()</span></span><br></pre></td></tr></table></figure>

<p>_QuestionGroupList.cshtml:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model StaticPagedList&lt;QuestionGroupListViewModel&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.List(</span></span><br><span class="line">    Model,</span><br><span class="line">    r =&gt; Html.Partial("_QuestionGroupListItem", r),</span><br><span class="line">    new ColumnHeadAttr[] &#123;</span><br><span class="line">        new ColumnHeadAttr &#123; Percentage=<span class="number">30</span>, Head=<span class="string">"题库科目"</span> &#125;,</span><br><span class="line">        new ColumnHeadAttr &#123; Percentage=<span class="number">30</span>, Head=<span class="string">"题库分类"</span> &#125;,     </span><br><span class="line">        new ColumnHeadAttr &#123; Percentage=<span class="number">30</span>, Head=<span class="string">"操作"</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">//这里分页</span><br><span class="line"><span class="meta">@IPHtml.Paging(</span></span><br><span class="line">    Html,</span><br><span class="line">    Model,</span><br><span class="line">    page_index =&gt; Url.Action("QuestionGroupList",</span><br><span class="line">    new</span><br><span class="line">    &#123;</span><br><span class="line">        page_index = page_index,</span><br><span class="line">        question_group_id = Request[<span class="string">"question_group_id"</span>]</span><br><span class="line">    &#125;))</span><br></pre></td></tr></table></figure>

<p>_QuestionGroupListItem.cshtml:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model QuestionGroupListViewModel</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.Item(Model, r =&gt; new RowAttr &#123; Id = "id" + r.question_type_id &#125;, r =&gt; new ColumnBodyAttr[] &#123;</span></span><br><span class="line">        new ColumnBodyAttr &#123; Field=r.question_group_name,Percentage=<span class="number">30</span> &#125;,</span><br><span class="line">        new ColumnBodyAttr &#123; Field=r.question_type_name, Percentage=<span class="number">30</span> &#125;,</span><br><span class="line">        new ColumnBodyAttr &#123; Field=<span class="string">"&lt;a href='/questiongroup/edit/"</span>+r.question_type_id+<span class="string">"' \"&gt;修改&lt;/a&gt;&lt;a onclick=\"itplus.questionType.delete("</span>+r.question_type_id+<span class="string">")\"&gt;删除&lt;/a&gt;"</span>,Percentage =<span class="number">30</span> &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/19/后台Controller层返回相关/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/19/后台Controller层返回相关/" itemprop="url">后台Controller层返回相关</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-19T15:45:52+08:00">
                2019-08-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.下面的代码会把结果返回给一个EventDEdit.cshtml的同名页面（参数是同步传入的）或其他页面</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult EventDEdit(long id)</span><br><span class="line">    &#123;</span><br><span class="line">        var result = Business.Gateway&lt;Event_D_Gateway&gt;().GetEventList(new EventSearchViewModel &#123; event_id = id &#125;, Config.AppKey);</span><br><span class="line">        <span class="keyword">if</span> (result.success &amp;&amp; result.data != null &amp;&amp; result.data.list.Count &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> View(result.data.list.First());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> View(new EventListViewModel());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>2.从下面的代码可以看出，参数是异步传入（ajax传入）的，从return的Json格式看出。下面代码不用返回一个同名的DeleteEventD.cshtml页面或其他页面，因为她已经通过Json返回了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult DeleteEventD(long event_id)</span><br><span class="line">     &#123;</span><br><span class="line">         var model = new EventDeleteViewModel &#123; event_id = event_id &#125;;</span><br><span class="line">         var obj = Business.Gateway&lt;Event_D_Gateway&gt;().DeleteEvent(model, Config.AppKey);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">return</span> Json(new BaseResponse &#123; success = obj.success, code = obj.code, message = obj.message &#125;);</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p>3.那么如何在参数传入是同步传入的情况下（从上面的讨论可以看出，如果参数是同步传入的，必须返回一个同名页面或者通过 return View(“_OtherView”new EventListViewModel());返回另一个页面_OtherView.cshtml），返回Json呢？如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> Json(new BaseResponse&#123; success = false, message = <span class="string">"无活动信息！"</span> &#125;,JsonRequestBehavior.AllowGet);//通过JsonRequestBehavior.AllowGet</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/17/c-工作中我遇到的问题-如何导出excel表/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/17/c-工作中我遇到的问题-如何导出excel表/" itemprop="url">c#工作中我遇到的问题--如何导出excel表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-17T15:18:15+08:00">
                2019-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>部分代码演示：<br>View层：（通过Form表单提交）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script&gt;</span><br><span class="line">        itplus.order = new function ()</span><br><span class="line">        &#123;</span><br><span class="line">            this.exportOrder = function () &#123;</span><br><span class="line">             setValue();</span><br><span class="line">        $(<span class="string">'#frmExportOrder'</span>).submit();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.exportProduct = function () &#123;</span><br><span class="line">        setValue();</span><br><span class="line">        $(<span class="string">'#frmExportProduct'</span>).submit();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        var setValue = function () &#123;</span><br><span class="line">        $(<span class="string">'input[name=OrderNumber]'</span>).val($(<span class="string">'#OrderNumber'</span>).val());</span><br><span class="line">        $(<span class="string">'input[name=MinPrice]'</span>).val($(<span class="string">'#MinPrice'</span>).val());</span><br><span class="line">        $(<span class="string">'input[name=MaxPrice]'</span>).val($(<span class="string">'#MaxPrice'</span>).val());</span><br><span class="line">        $(<span class="string">'input[name=ShopId]'</span>).val($(<span class="string">'#ShopId'</span>).val());</span><br><span class="line">        $(<span class="string">'input[name=StatusGroupId]'</span>).val($(<span class="string">'#StatusGroupId'</span>).val());</span><br><span class="line">    &#125;</span><br><span class="line">     &lt;/script&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class="exportLayer"&gt;</span><br><span class="line">    &lt;form id="frmExportOrder" class="export" action="/order/exportorder"&gt;</span><br><span class="line">        &lt;span class="ip_filter"&gt;&lt;button type="button" class="ip_s_btn" onclick="itplus.order.exportOrder()"&gt;导出订单表&lt;/button&gt;&lt;/span&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"OrderNumber"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"MinPrice"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"MaxPrice"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"ShopId"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"StatusGroupId"</span> /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    &lt;form id="frmExportProduct" class="export" action="/order/exportproduct"&gt;</span><br><span class="line">        &lt;span class="ip_filter"&gt;&lt;button type="button" class="ip_s_btn" onclick="itplus.order.exportProduct()"&gt;导出捡货表&lt;/button&gt;&lt;/span&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"OrderNumber"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"MinPrice"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"MaxPrice"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"ShopId"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"StatusGroupId"</span> /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>Controller：（后台调用逻辑层和仓存层的方法略，这两层反正就是去取数据（一般是列表数据）就对了）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult ExportOrder(OrderExportViewModel search)</span><br><span class="line">&#123;</span><br><span class="line">    var model = Business.Logic&lt;OrderLogic&gt;().GetOrderWithOrderLines(search.Map&lt;OrderExportViewModel, OrderSearchDTO&gt;()).Map&lt;OrderDTO, ExportOrderViewModel, OrderLineDTO, ExportOrderProductViewModel&gt;(Constant.MapType.PascalToLower);</span><br><span class="line"></span><br><span class="line">    var ip_excel_html = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span> (model.Count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ip_excel_html = <span class="string">"&lt;meta http-equiv=Content-Type content=\"text/html; charset=utf-8\"&gt;"</span>;</span><br><span class="line">        ip_excel_html += this.PartialViewHtml(<span class="string">"_OrderExport"</span>, model);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    byte[] b = System.Text.Encoding.GetEncoding(<span class="string">"UTF-8"</span>).GetBytes(ip_excel_html);</span><br><span class="line">    <span class="keyword">return</span> File(b, <span class="string">"application/vnd.ms-excel"</span>, <span class="string">"订单表.xls"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult ExportProduct(OrderExportViewModel search)</span><br><span class="line">&#123;</span><br><span class="line">    var orders = Business.Logic&lt;OrderLogic&gt;().GetOrder(search.Map&lt;OrderExportViewModel, OrderSearchDTO&gt;());</span><br><span class="line">    var orderLines = Business.Logic&lt;OrderLineLogic&gt;().GetOrderLine(new OrderLineSearchDTO &#123; OrderIds = orders.  Select(r =&gt; r.OrderId).ToList() &#125;).Map&lt;OrderLineDTO, ExportOrderProductViewModel&gt;(Constant.MapType.PascalToLower);</span><br><span class="line"></span><br><span class="line">    var ip_excel_html = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span> (orderLines.Count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ip_excel_html = <span class="string">"&lt;meta http-equiv=Content-Type content=\"text/html; charset=utf-8\"&gt;"</span>;</span><br><span class="line">        ip_excel_html += this.PartialViewHtml(<span class="string">"_OrderProductExport"</span>, orderLines);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    byte[] b = System.Text.Encoding.GetEncoding(<span class="string">"UTF-8"</span>).GetBytes(ip_excel_html);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> File(b, <span class="string">"application/vnd.ms-excel"</span>, <span class="string">"捡货表.xls"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/16/C-MVC工作中View层配置Web-Config简化命名/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/16/C-MVC工作中View层配置Web-Config简化命名/" itemprop="url">C# MVC工作中View层配置Web.Config简化命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-16T09:49:31+08:00">
                2019-08-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.View-web.config里（把重复用的namespace放在这里）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;namespaces&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Web.Mvc"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Web.Mvc.Ajax"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Web.Mvc.Html"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Web.Routing"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Web.Optimization"</span>/&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"System.Linq"</span>/&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Module.Client.Intern"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Configuration"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Contract"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Control"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Entity"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Framework"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"PagedList"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"PagedList.Mvc"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Module.Client.Intern.Areas.EventArea.ViewModels"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Framework.Extension"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Event.Intern.C.Contract"</span> /&gt;</span><br><span class="line">  &lt;add namespace=<span class="string">"ITPlus.Event.Intern.D.ViewModels"</span> /&gt;</span><br><span class="line">&lt;/namespaces&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/16/C-MVC工作中下拉框源的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/16/C-MVC工作中下拉框源的问题/" itemprop="url">C# MVC工作中下拉框源的问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-16T09:12:38+08:00">
                2019-08-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-例子1"><a href="#1-例子1" class="headerlink" title="1.例子1"></a>1.例子1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model StaticPagedList&lt;ITPlus.Event.Intern.D.ViewModels.EventDJoinViewModel&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@&#123;</span></span><br><span class="line">    Layout = <span class="string">"~/Views/Shared/_Layout.cshtml"</span>;</span><br><span class="line"></span><br><span class="line">    ViewBag.Title = <span class="string">"报名列表"</span>;</span><br><span class="line">///这里很重要</span><br><span class="line">    var eventTypeIdList = new List&lt;dynamic&gt; &#123;</span><br><span class="line">        new &#123;id=ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.报名.GetHashCode().ToString(),name = ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.报名.ToString() &#125;,</span><br><span class="line">        new &#123;id=ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.投票.GetHashCode().ToString(),name = ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.投票.ToString() &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">///</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section head&#123;</span></span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .ip_form_select .ip_input &#123;</span><br><span class="line">            width: <span class="number">140</span>px !important;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#user_name &#123;</span></span><br><span class="line">            width: <span class="number">160</span>px !important;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section containerTop&#123;</span></span><br><span class="line">    &lt;div class="ip_container_top"&gt;</span><br><span class="line">        &lt;div class="ip_title"&gt;报名列表&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.Search.BeginSearch(new SearchAttr &#123; Id = "frm", Action = "/event/eventdjoinlist" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Select(eventTypeIdList, r =&gt; r.id, r =&gt; r.name, new SelectAttr &#123; Id = "event_type_id", Label = "活动类型：", PlaceHolder = "全部", Required = "不能为空" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Input(new InputAttr &#123; Id = "mobile", Label = "手机：", Width = 200, PlaceHolder = "请输入手机" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Submit(new SearchSubmitAttr &#123; Id = "btnSubmit", UpdateTargetId = "data_list" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.EndSearch()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.BeginUpdateTarget(new UpdateTargetAttr &#123; Id = "data_list" &#125;)</span></span><br><span class="line"><span class="meta">@Html.Partial("_EventDJoinList", Model)</span></span><br><span class="line"><span class="meta">@IPHtml.EndUpdateTarget()</span></span><br></pre></td></tr></table></figure>

<p>Constants.cs里的常量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Constants</span></span></span><br><span class="line">&#123;</span><br><span class="line">    public enum EventTypeId</span><br><span class="line">    &#123;</span><br><span class="line">        报名 = <span class="number">1</span>,</span><br><span class="line">        投票 = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-例子2"><a href="#2-例子2" class="headerlink" title="2.例子2"></a>2.例子2</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IPHtml.Form.Select(</span></span><br><span class="line">    new List&lt;dynamic&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        new &#123; Status = (int)Constants.Gender.女+<span class="string">""</span>, Name = <span class="string">"女"</span>&#125;,</span><br><span class="line">        new &#123; Status = (int)Constants.Gender.男+<span class="string">""</span>, Name = <span class="string">"男"</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    r =&gt; r.Status,</span><br><span class="line">    r =&gt; r.Name,</span><br><span class="line">    new SelectAttr</span><br><span class="line">    &#123;</span><br><span class="line">        Id = <span class="string">"gender"</span>,  //用于接收的ViewModel里的gender为int（int gender）</span><br><span class="line">        Label = <span class="string">"性别："</span>,</span><br><span class="line">        SelectedValue = Model.gender, </span><br><span class="line">        Required = <span class="string">"性别不能为空！"</span>,</span><br><span class="line">        IgnoreDefaultOption = true</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Constants.cs里的常量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Constants</span></span></span><br><span class="line">&#123;</span><br><span class="line">    public enum Gender</span><br><span class="line">    &#123;</span><br><span class="line">        男 = <span class="number">1</span>,</span><br><span class="line">        女 = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-例子3"><a href="#3-例子3" class="headerlink" title="3.例子3"></a>3.例子3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IPHtml.Form.RadioButton(</span></span><br><span class="line">   new List&lt;dynamic&gt; </span><br><span class="line">   &#123; </span><br><span class="line">       new &#123; name = <span class="string">"男"</span>, value = <span class="string">"1"</span> &#125;, </span><br><span class="line">       new &#123; name = <span class="string">"女"</span>, value = <span class="string">"2"</span> &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   r =&gt; r.value,</span><br><span class="line">   r =&gt; r.name, </span><br><span class="line">   new RadioButtonAttr </span><br><span class="line">   &#123; </span><br><span class="line">       Id = <span class="string">"gender"</span>, //用于接收的ViewModel里的gender为int（int gender）</span><br><span class="line">       Label = <span class="string">"性别："</span> </span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-例子4"><a href="#4-例子4" class="headerlink" title="4.例子4"></a>4.例子4</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model StaticPagedList&lt;ITPlus.Event.Intern.D.ViewModels.EventDJoinViewModel&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@&#123;</span></span><br><span class="line">    Layout = <span class="string">"~/Views/Shared/_Layout.cshtml"</span>;</span><br><span class="line"></span><br><span class="line">    ViewBag.Title = <span class="string">"报名列表"</span>;</span><br><span class="line">    var eventTypeIdList = new List&lt;dynamic&gt; &#123;</span><br><span class="line">        new &#123;id=ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.报名.GetHashCode().ToString(),name = ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.报名.ToString() &#125;,</span><br><span class="line">        new &#123;id=ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.投票.GetHashCode().ToString(),name = ITPlus.Event.Intern.D.Contract.EventConstants.EventTypeId.投票.ToString() &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section head&#123;</span></span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .ip_form_select .ip_input &#123;</span><br><span class="line">            width: <span class="number">140</span>px !important;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#user_name &#123;</span></span><br><span class="line">            width: <span class="number">160</span>px !important;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@section containerTop&#123;</span></span><br><span class="line">    &lt;div class="ip_container_top"&gt;</span><br><span class="line">        &lt;div class="ip_title"&gt;报名列表&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.Search.BeginSearch(new SearchAttr &#123; Id = "frm", Action = "/event/eventdjoinlist" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Select(eventTypeIdList, r =&gt; r.id, r =&gt; r.name, new SelectAttr &#123; Id = "event_type_id", Label = "活动类型：", PlaceHolder = "全部", Required = "不能为空" &#125;) //用于接收的ViewModel里的event_type_id为int（int event_type_id,）</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Input(new InputAttr &#123; Id = "mobile", Label = "手机：", Width = 200, PlaceHolder = "请输入手机" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.Submit(new SearchSubmitAttr &#123; Id = "btnSubmit", UpdateTargetId = "data_list" &#125;)</span></span><br><span class="line"><span class="meta">@IPHtml.Search.EndSearch()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@IPHtml.BeginUpdateTarget(new UpdateTargetAttr &#123; Id = "data_list" &#125;)</span></span><br><span class="line"><span class="meta">@Html.Partial("_EventDJoinList", Model)</span></span><br><span class="line"><span class="meta">@IPHtml.EndUpdateTarget()</span></span><br></pre></td></tr></table></figure>

<p>EventConstants.cs里的常量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">EventConstants</span></span></span><br><span class="line">&#123;</span><br><span class="line">    public enum EventTypeId</span><br><span class="line">    &#123;</span><br><span class="line">        报名 = <span class="number">1</span>,</span><br><span class="line">        投票 = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.例子5（最常用的）<br>一般是Controller层：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult ServiceList(ServiceAdminSearchViewModel search ,int page_index = <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">    var searchModel = search.Map&lt;ServiceAdminSearchViewModel, ServiceAdminSearchDTO&gt;(Constant.MapType.LowerToPascal);</span><br><span class="line">    ViewBag.tags = Business.Logic&lt;DriverSchoolLogic&gt;().GetDriverSchoolList(searchModel).Map&lt;DriverSchoolSelectListDTO, DriverSchoolSelectListViewModel&gt;(Constant.MapType.PascalToLower); //这里很重要        </span><br><span class="line">    searchModel.PageIndex = page_index;</span><br><span class="line">    searchModel.PageSize = <span class="number">10</span>;</span><br><span class="line">    var model = Business.Logic&lt;ServiceLogic&gt;().GetServiceAdminList(searchModel);</span><br><span class="line">    var data = new StaticPagedList&lt;ServiceAdminListViewModel&gt;(model.Map&lt;ServiceAdminListDTO, ServiceAdminListViewModel,DriverSchoolSelectListDTO,DriverSchoolListViewModel&gt;(Constant.MapType.PascalToLower), searchModel.PageIndex, searchModel.PageSize, searchModel.TotalCount);</span><br><span class="line">    return Request.IsAjaxRequest()? (ActionResult)PartialView("_ServiceList", data) : View(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>View层</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IPHtml.Search.Select((List&lt;DriverSchoolSelectListViewModel&gt;)ViewBag.tags,  //ViewBag.tags的作用--数据源</span></span><br><span class="line">    r =&gt; r.driver_school_id.ToString(),</span><br><span class="line">    r =&gt; r.school_name, </span><br><span class="line">    new SelectAttr</span><br><span class="line">    &#123;</span><br><span class="line">        Id = <span class="string">"driver_school_id"</span>,</span><br><span class="line">        Label = <span class="string">"所属驾校："</span>,</span><br><span class="line">        OptionValue = <span class="string">""</span>,</span><br><span class="line">        OptionText = <span class="string">"不限"</span>,</span><br><span class="line">        SelectedValue = Request[<span class="string">"driver_school_id"</span>],</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/15/接下来要做的/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/15/接下来要做的/" itemprop="url">接下来要做的</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-15T15:48:13+08:00">
                2019-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>数据表连接练习，码表，out，下拉框</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/15/工作中C-MVC路由的一些命名习惯/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/15/工作中C-MVC路由的一些命名习惯/" itemprop="url">工作中C# MVC接口路由的一些命名习惯</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-15T14:10:51+08:00">
                2019-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-接口路由名和方法名保持一致（-Route-“get-event-join-list”-和get-event-join-list）要保持一致"><a href="#1-接口路由名和方法名保持一致（-Route-“get-event-join-list”-和get-event-join-list）要保持一致" class="headerlink" title="1.接口路由名和方法名保持一致（[Route(“get_event_join_list”)]和get_event_join_list）要保持一致"></a>1.接口路由名和方法名保持一致（[Route(“get_event_join_list”)]和get_event_join_list）要保持一致</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[Route(<span class="string">"get_event_join_list"</span>)]</span><br><span class="line">[HttpGet]</span><br><span class="line">public DataResponse&lt;PageResponse&lt;EventDJoinViewModel&gt;&gt; get_event_join_list([FromUri]EventJoinSearchViewModel search)</span><br><span class="line">&#123;</span><br><span class="line">    var searchDTO = search.Map&lt;EventJoinSearchViewModel, EventJoinSearchDTO&gt;(Constant.MapType.LowerToPascal);</span><br><span class="line">    var result = Business.Logic&lt;EventLogic&gt;().GetEventJoinList(searchDTO, AppKey);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> new DataResponse&lt;PageResponse&lt;EventDJoinViewModel&gt;&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        success = true,</span><br><span class="line">        code = ResponseCode.Ok.code,</span><br><span class="line">        message = ResponseCode.Ok.message,</span><br><span class="line">        data = new PageResponse&lt;EventDJoinViewModel&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            last_page = searchDTO.PageIndex * searchDTO.PageSize &gt;= searchDTO.TotalCount,</span><br><span class="line">            total_count = searchDTO.TotalCount,</span><br><span class="line">            list = result.Map&lt;EventDJoinDTO, EventDJoinViewModel&gt;(Constant.MapType.PascalToLower)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-1接口路由方法名也要和逻辑层和仓存储的方法保持一致，如上面的get-event-join-list和GetEventJoinList"><a href="#1-1接口路由方法名也要和逻辑层和仓存储的方法保持一致，如上面的get-event-join-list和GetEventJoinList" class="headerlink" title="1.1接口路由方法名也要和逻辑层和仓存储的方法保持一致，如上面的get_event_join_list和GetEventJoinList"></a>1.1接口路由方法名也要和逻辑层和仓存储的方法保持一致，如上面的get_event_join_list和GetEventJoinList</h2><p>逻辑层：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;EventDJoinDTO&gt; GetEventJoinList(EventJoinSearchDTO search, string appKey)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> new EventRepository().GetEventJoinList(search, appKey).ToList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>仓存储：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">public IQueryable&lt;EventDJoinDTO&gt; GetEventJoinList(EventJoinSearchDTO search, string appKey)</span><br><span class="line">&#123;</span><br><span class="line">    var query = <span class="keyword">from</span> e <span class="keyword">in</span> GetAll()</span><br><span class="line">                join ej <span class="keyword">in</span> DBContext.EventJoins on e.EventId equals ej.EventId</span><br><span class="line">                join t <span class="keyword">in</span> DBContext.EventTypes on e.EventTypeId equals t.EventTypeId</span><br><span class="line">                join tg <span class="keyword">in</span> DBContext.EventTypeGroups on t.EventTypeGroupId equals tg.EventTypeGroupId</span><br><span class="line">                where e.AppKey == appKey &amp;&amp; !e.DateDeleted.HasValue</span><br><span class="line">                orderby ej.OrderId</span><br><span class="line">                select new EventDJoinDTO</span><br><span class="line">                &#123;</span><br><span class="line">                    AppKey = e.AppKey,</span><br><span class="line">                    Title = e.Title,</span><br><span class="line">                    EventAddress = e.EventAddress,</span><br><span class="line">                    Description = e.Description,</span><br><span class="line">                    EventId = e.EventId,</span><br><span class="line">                    ShopId = e.ShopId,</span><br><span class="line">                    OrderId = ej.OrderId,</span><br><span class="line">                    UserId = ej.UserId,</span><br><span class="line">                    DateDeleted = e.DateDeleted,</span><br><span class="line">                    DateCreated = e.DateCreated,</span><br><span class="line">                    ClientId = e.ClientId,</span><br><span class="line">                    CategoryId = e.CategoryId,</span><br><span class="line">                    Price = e.Price,</span><br><span class="line">                    EventTypeId = e.EventTypeId,</span><br><span class="line">                    EventTypeName = t.EventTypeName,</span><br><span class="line">                    EventTypeGroupId = tg.EventTypeGroupId,</span><br><span class="line">                    EventTypeGroupName = tg.EventTypeGroupName,</span><br><span class="line">                    UserName = ej.UserName,</span><br><span class="line">                    Mobile = ej.Mobile,</span><br><span class="line">                    Note = ej.Note,</span><br><span class="line">                    ImagePaths = ej.ImagePaths,</span><br><span class="line">                    VideoJson = ej.VideoJson,</span><br><span class="line">                    EventDateFrom = e.EventDateFrom,</span><br><span class="line">                    EventDateTo = e.EventDateTo</span><br><span class="line">                &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (search.EventId.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.EventId == search.EventId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (search.OrderId.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.OrderId == search.OrderId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (search.EventTypeId.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.EventTypeId == search.EventTypeId.Value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (search.EventTypeGroupId.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.EventTypeGroupId == search.EventTypeGroupId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (search.UserId.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.UserId == search.UserId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!string.IsNullOrWhiteSpace(search.Mobile))</span><br><span class="line">    &#123;</span><br><span class="line">        query = query.Where(r =&gt; r.Mobile.Contains(search.Mobile));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (search.PageIndex &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        search.TotalCount = query.Count();</span><br><span class="line">        query = query.Skip((search.PageIndex - <span class="number">1</span>) * search.PageSize).Take(search.PageSize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> query.AsNoTracking();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-2接口-api的controller层-路由方法传入单个参数的时候要用（int-order-id，int-event-id）这样的命名方式"><a href="#1-2接口-api的controller层-路由方法传入单个参数的时候要用（int-order-id，int-event-id）这样的命名方式" class="headerlink" title="1.2接口(api的controller层)路由方法传入单个参数的时候要用（int order_id，int event_id）这样的命名方式"></a>1.2接口(api的controller层)路由方法传入单个参数的时候要用（int order_id，int event_id）这样的命名方式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Route(<span class="string">"get_event_join_detail"</span>)]</span><br><span class="line">[HttpGet]</span><br><span class="line">public DataResponse&lt;EventDJoinViewModel&gt; get_event_join_detail(int order_id)</span><br><span class="line">&#123;</span><br><span class="line">    var result = Business.Logic&lt;EventLogic&gt;().GetEventDJoinDetail(new EventJoinSearchDTO &#123; OrderId = order_id &#125;, AppKey);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> new DataResponse&lt;EventDJoinViewModel&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        success = true,</span><br><span class="line">        code = ResponseCode.Ok.code,</span><br><span class="line">        message = ResponseCode.Ok.message,</span><br><span class="line">        data = result.Map&lt;EventDJoinDTO, EventDJoinViewModel&gt;(Constant.MapType.PascalToLower)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1.2.1后台controller层传入单个参数的时候可以用(int eventId)这样的方式，第一个字母小写，之后单词的第一个字母都大写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public ActionResult Forbidden(long eventId)</span><br><span class="line">     &#123;</span><br><span class="line">         var dto = new ForbiddenEventViewModel &#123; event_id = eventId, user_id = UserId.Value &#125;;</span><br><span class="line">         var obj = Business.Gateway&lt;Event_C_Gateway&gt;().ForbiddenEvent(dto);</span><br><span class="line">         <span class="keyword">return</span> Json(new BaseResponse &#123; success = obj.success, code = obj.code, message = obj.message &#125;);</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-ViewModel和DTO自由属性的命名规范"><a href="#2-ViewModel和DTO自由属性的命名规范" class="headerlink" title="2.ViewModel和DTO自由属性的命名规范"></a>2.ViewModel和DTO自由属性的命名规范</h2><p>2.1Viewmodel:(根据需要返回需要的属性，给Controller层传参或者返回)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">namespace AlaGou.Admin.ViewModel</span><br><span class="line">&#123;</span><br><span class="line">    public <span class="class"><span class="keyword">class</span> <span class="title">HouseViewModel</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        public int? house_id &#123; get; set; &#125;</span><br><span class="line">        public string title &#123; get; set; &#125;</span><br><span class="line">        public int client_id &#123; get; set; &#125;    </span><br><span class="line">        public string price &#123; get; set; &#125;</span><br><span class="line">        public string tag &#123; get; set; &#125;    </span><br><span class="line">        public DateTime date_created &#123; get; set; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="class"><span class="keyword">class</span> <span class="title">HouseDetailViewModel</span> :</span> HouseViewModel</span><br><span class="line">    &#123;</span><br><span class="line">        public string cover_image_path &#123; get; set; &#125;</span><br><span class="line">        public string description &#123; get; set; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.2DTO:(和数据库里设计的属性保持一致，给逻辑层和仓储层用的对象)</p>
<p>///HouseDTO(如下)，可以直接继承House表（数据库里自己设计的表，一般在一个项目的Model中），省去再写属性的麻烦</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">using System.ComponentModel.DataAnnotations.Schema;</span><br><span class="line">using AlaGou.Models;</span><br><span class="line">namespace AlaGou.BusinessLogic.DTO</span><br><span class="line">&#123;</span><br><span class="line">    [NotMapped]</span><br><span class="line">    public <span class="class"><span class="keyword">class</span> <span class="title">HouseDTO</span> :</span> House</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>///HouseEditDTO（如下）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">using AlaGou.Models;</span><br><span class="line">namespace AlaGou.BusinessLogic.DTO</span><br><span class="line">&#123;</span><br><span class="line">    public <span class="class"><span class="keyword">class</span> <span class="title">HouseEditDTO</span> :</span> House</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>///HouseSearchDTO（如下）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">using ITPlus.Contract;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line">namespace AlaGou.BusinessLogic.DTO</span><br><span class="line">&#123;</span><br><span class="line">    public <span class="class"><span class="keyword">class</span> <span class="title">HouseSearchDTO</span> :</span> MvcPaging</span><br><span class="line">    &#123;</span><br><span class="line">        public string Title &#123; get; set; &#125;</span><br><span class="line">        public string Tag &#123; get; set; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/07/EF实体对象变动跟踪/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/07/EF实体对象变动跟踪/" itemprop="url">EF实体对象变动跟踪</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-07T14:07:22+08:00">
                2019-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载：<a href="https://blog.csdn.net/u011127019/article/details/53941235" target="_blank" rel="noopener">https://blog.csdn.net/u011127019/article/details/53941235</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/07/Linq中的Join使用笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/07/Linq中的Join使用笔记/" itemprop="url">Linq中的Join使用笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-07T14:01:45+08:00">
                2019-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载：<a href="https://blog.csdn.net/deaoe/article/details/85224733" target="_blank" rel="noopener">https://blog.csdn.net/deaoe/article/details/85224733</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/07/Linq教程（待概括）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RobinYu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MyBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/07/Linq教程（待概括）/" itemprop="url">Linq教程（待概括）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-07T13:50:14+08:00">
                2019-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在说LINQ之前必须先说说几个重要的C#语言特性</p>
<h2 id="一：与LINQ有关的语言特性"><a href="#一：与LINQ有关的语言特性" class="headerlink" title="一：与LINQ有关的语言特性"></a>一：与LINQ有关的语言特性</h2><h2 id="1-隐式类型"><a href="#1-隐式类型" class="headerlink" title="　　1.隐式类型"></a>　　1.隐式类型</h2><p>　　　　（1）源起</p>
<p>　　　　　　在隐式类型出现之前,</p>
<p>　　　　　　我们在声明一个变量的时候,</p>
<p>　　　　　　总是要为一个变量指定他的类型</p>
<p>　　　　　　甚至在foreach一个集合的时候，</p>
<p>　　　　　　也要为遍历的集合的元素，指定变量的类型</p>
<p>　　　　　　隐式类型的出现，</p>
<p>　　　　　　程序员就不用再做这个工作了。</p>
<p>　　　　（2）使用方法</p>
<p>　　　　 　　来看下面的代码：　　　　</p>
<p>　　　　　　var a = 1; //int a = 1;<br>　　　　　　var b = “123”;//string b = “123”;<br>　　　　　　var myObj = new MyObj();//MyObj myObj = new MyObj()<br>　　　　　　上面的每行代码，与每行代码后面的注释，起到的作用是完全一样的</p>
<p>　　　　　　也就是说，在声明一个变量（并且同时给它赋值）的时候，完全不用指定变量的类型，只要一个var就解决问题了</p>
<p>　　　　（3）你担心这样写会降低性能吗？</p>
<p>　　　　　　我可以负责任的告诉你，这样写不会影响性能！</p>
<p>　　　　　　上面的代码和注释里的代码，编译后产生的IL代码（中间语言代码）是完全一样的</p>
<p>　　　　　　（编译器根据变量的值，推导出变量的类型，才产生的IL代码）　　　　　　</p>
<p>　　　　（4）这个关键字的好处：</p>
<p>　　　　　　你不用在声明一个变量并给这个变量赋值的时候，写两次变量类型</p>
<p>　　　　　　（这一点真的为开发者节省了很多时间）</p>
<p>　　　　　　在foreach一个集合的时候，可以使用var关键字来代替书写循环变量的类型</p>
<p>　　　　 （5）注意事项</p>
<p>　　　　　　你不能用var关键字声明一个变量而不给它赋值</p>
<p>　　　　　　因为编译器无法推导出你这个变量是什么类型的。</p>
<h2 id="2-匿名类型"><a href="#2-匿名类型" class="headerlink" title="　　2.匿名类型"></a>　　2.匿名类型</h2><p>　　　　(1)源起</p>
<p>　　　　　　创建一个对象，一定要先定义这个对象的类型吗？</p>
<p>　　　　　　不一定的！</p>
<p>　　　　　　来看看这段代码</p>
<p>　　　　（2）使用　</p>
<pre><code>var obj = new {Guid.Empty, myTitle = &quot;匿名类型&quot;, myOtherParam = new int[] { 1, 2, 3, 4 } };
Console.WriteLine(obj.Empty);//另一个对象的属性名字，被原封不动的拷贝到匿名对象中来了。
Console.WriteLine(obj.myTitle);
Console.ReadKey();</code></pre><p>　　　　　　new关键字之后就直接为对象定义了属性，并且为这些属性赋值</p>
<p>　　　　　　而且，对象创建出来之后，在创建对象的方法中，还可以畅通无阻的访问对象的属性</p>
<p>　　　　　　当把一个对象的属性拷贝到匿名对象中时，可以不用显示的指定属性的名字，这时原始属性的名字会被“拷贝”到匿名对象中</p>
<p>　　　　（3）注意　　　　</p>
<p>　　　　　　如果你监视变量obj，你会发现，obj的类型是Anonymous Type类型的</p>
<p>　　　　　　不要试图在创建匿名对象的方法外面去访问对象的属性！</p>
<p>　　　　（4）优点</p>
<p>　　　　　　这个特性在网站开发中，序列化和反序列化JSON对象时很有用</p>
<h2 id="3-自动属性"><a href="#3-自动属性" class="headerlink" title="　　3.自动属性"></a>　　3.自动属性</h2><p>　　　　（1）源起</p>
<p>　　　　　　为一个类型定义属性，我们一般都写如下的代码：　　　　</p>
<pre><code>　　　　public class MyObj2
　　　　{
    　　　　private Guid _id;
    　　　　private string _Title;
    　　　　public Guid id 
    　　　　{
        　　　　get { return _id; }
        　　　　set { _id = value; } 
    　　　　}
    　　　　public string Title
    　　　　{
        　　　　get { return _Title; }
        　　　　set { _Title = value; }
    　　　　}
　　　　}</code></pre><p>　　　　　　但很多时候，这些私有变量对我们一点用处也没有，比如对象关系映射中的实体类。</p>
<p>　　　　　　自C#3.0引入了自动实现的属性，</p>
<p>　　　　　　以上代码可以写成如下形式：</p>
<p>　　　　（2）使用</p>
<pre><code>　　　　public class MyObj
　　　　{
    　　　　public Guid id { get; set; }
    　　　　public string Title { get; set; }
　　　　}</code></pre><p>　　　　　　这个特性也和var关键字一样，是编译器帮我们做了工作，不会影响性能的</p>
<h2 id="4-初始化器"><a href="#4-初始化器" class="headerlink" title="　　4.初始化器"></a>　　4.初始化器</h2><p>　　　　（1）源起</p>
<p>　　　　　　我们创建一个对象并给对象的属性赋值，代码一般写成下面的样子　　　　</p>
<pre><code>var myObj = new MyObj();
myObj.id = Guid.NewGuid();
myObj.Title = &quot;allen&quot;;</code></pre><p>　　　　　　自C#3.0引入了对象初始化器，</p>
<p>　　　　　　代码可以写成如下的样子</p>
<p>　　　　（2）使用　　　　</p>
<p>　　　　　　var myObj1 = new MyObj() { id = Guid.NewGuid(), Title = “allen” };<br>　　　　　　如果一个对象是有参数的构造函数</p>
<p>　　　　　　那么代码看起来就像这样</p>
<p>　　　　　　var myObj1 = new MyObj (“allen”) { id = Guid.NewGuid(), Title = “allen” };<br>　　　　　　集合初始化器的样例代码如下：　　　　</p>
<p>　　　　　　var arr = new List<int>() { 1, 2, 3, 4, 5, 6 };<br>　　　　（3）优点</int></p>
<p>　　　　　　我个人认为：这个特性不是那么amazing，</p>
<p>　　　　　　这跟我的编码习惯有关，集合初始化器也就罢了，</p>
<p>　　　　　　真的不习惯用对象初始化器初始化一个对象！</p>
<h2 id="5-委托"><a href="#5-委托" class="headerlink" title="　　5.委托"></a>　　5.委托</h2><p>　　　　（1）使用</p>
<p>　　　　　　我们先来看一个简单的委托代码　　　　</p>
<pre><code>　　　　delegate Boolean moreOrlessDelgate(int item);
　　　　class Program
　　　　{
    　　　　static void Main(string[] args)
    　　　　{
        　　　　var arr = new List&lt;int&gt;() { 1, 2, 3, 4, 5, 6,7,8 };
        　　　　var d1 = new moreOrlessDelgate(More);            
        　　　　Print(arr, d1);
        　　　　Console.WriteLine(&quot;OK&quot;);

        　　　　var d2 = new moreOrlessDelgate(Less);
        　　　　Print(arr, d2);
        　　　　Console.WriteLine(&quot;OK&quot;);
        　　　　Console.ReadKey();

    　　　　}
    　　　　static void Print(List&lt;int&gt; arr,moreOrlessDelgate dl)
    　　　　{
        　　　　foreach (var item in arr)
        　　　　{
            　　　　if (dl(item))
            　　　　{
                　　　　Console.WriteLine(item);
            　　　　}
        　　　　}
    　　　　}
    　　　　static bool More(int item)
    　　　　{
        　　　　if (item &gt; 3)
        　　　　{ 
            　　　　return true; 
        　　　　}
        　　　　return false;
    　　　　}
    　　　　static bool Less(int item)
    　　　　{
        　　　　if (item &lt; 3)
        　　　　{
            　　　　return true;
        　　　　}
        　　　　return false;
    　　　　}
　　　　}</code></pre><p>　　　　　　这段代码中</p>
<p>　　　　　　&lt;1&gt;首先定义了一个委托类型</p>
<p>　　　　　　　　delegate Boolean moreOrlessDelgate(int item);</p>
<p>　　　　　　　　你看到了，委托和类是一个级别的，确实是这样：委托是一种类型</p>
<p>　　　　　　　　和class标志的类型不一样，这种类型代表某一类方法。</p>
<p>　　　　　　　　这一句代码的意思是：moreOrlessDelgate这个类型代表返回值为布尔类型，输入参数为整形的方法</p>
<p>　　　　　　&lt;2&gt;有类型就会有类型的实例　　</p>
<p>　　　　　　　　var d1 = new moreOrlessDelgate(More);  　　　<br>　　　　　　　　var d2 = new moreOrlessDelgate(Less);<br>　　　　　　　　这两句就是创建moreOrlessDelgate类型实例的代码，</p>
<p>　　　　　　　　它们的输入参数是两个方法</p>
<p>　　　　　　&lt;3&gt;有了类型的实例，就会有操作实例的代码　　　</p>
<p>　　　　　　　　Print(arr, d1);<br>　　　　　　　　Print(arr, d2);<br>　　　　　　　　我们把前面两个实例传递给了Print方法</p>
<p>　　　　　　　　这个方法的第二个参数就是moreOrlessDelgate类型的</p>
<p>　　　　　　　　在Print方法内用如下代码，调用委托类型实例所指向的方法</p>
<p>　　　　　　　　dl(item)</p>
<h2 id="6-泛型"><a href="#6-泛型" class="headerlink" title="　　6.泛型"></a>　　6.泛型</h2><p>　　　　(1)为什么要有泛型</p>
<p>　　　　　　假设你是一个方法的设计者，</p>
<p>　　　　　　这个方法有一个传入参数，有一个返回值。</p>
<p>　　　　　　但你并不知道这个参数和返回值是什么类型的，</p>
<p>　　　　　　如果没有泛型，你可能把参数和返回值的类型都设定为Object了</p>
<p>　　　　　　那时，你心里肯定在想：反正一切都是对象，一切的基类都是Object</p>
<p>　　　　　　没错！你是对的！</p>
<p>　　　　　　这个方法的消费者，会把他的对象传进来（有可能会做一次装箱操作）</p>
<p>　　　　　　并且得到一个Object的返回值，他再把这个返回值强制类型转化为他需要的类型</p>
<p>　　　　　　除了装箱和类型转化时的性能损耗外，代码工作的很好！</p>
<p>　　　　　　那么这些性能损耗能避免掉吗？</p>
<p>　　　　　　有泛型之后就可以了！</p>
<p>　　　　（2）使用</p>
<p>　　　　　　&lt;1&gt;使用简单的泛型</p>
<p>　　　　　　　　先来看下面的代码：　　　　　　　　</p>
<pre><code>        　　var intList = new List&lt;int&gt;() { 1,2,3};
        　　intList.Add(4);
        　　intList.Insert(0, 5);
        　　foreach (var item in intList)
        　　{
            　　Console.WriteLine(item);
        　　}
        　　Console.ReadKey();</code></pre><p>　　　　　　　　在上面这段代码中我们声明了一个存储int类型的List容器</p>
<p>　　　　　　　　并循环打印出了容器里的值</p>
<p>　　　　　　　　注意：如果这里使用Hashtable、Queue或者Stack等非泛型的容器</p>
<p>　　　　　　　　就会导致装箱操作，损耗性能。因为这些容器只能存储Object类型的数据</p>
<p>　　　　　　&lt;2&gt;泛型类型</p>
<p>　　　　　　　　List<t>、Dictionary&lt;TKey, TValue&gt;等泛型类型都是.net类库定义好并提供给我们使用的</t></p>
<p>　　　　　　　　但在实际开发中，我们也经常需要定义自己的泛型类型</p>
<p>　　　　　　　　来看下面的代码：　　　　　　　　</p>
<pre><code>　　　　　　public static class SomethingFactory&lt;T&gt;
　　　　　　{
    　　　　　　public static T InitInstance(T inObj)
    　　　　　　{
        　　　　　　if (false)//你的判断条件
        　　　　　　{
            　　　　　　//do what you want...
            　　　　　　return inObj;
        　　　　　　}
        　　　　　　return default(T);
    　　　　　　}
　　　　　　}</code></pre><p>　　　　　　　　这段代码的消费者如下：　　　　　　　　</p>
<pre><code>        　　var a1 = SomethingFactory&lt;int&gt;.InitInstance(12);
        　　Console.WriteLine(a1);
        　　Console.ReadKey();</code></pre><p>　　　　　　　　输出的结果为0</p>
<p>　　　　　　　　这就是一个自定义的静态泛型类型，</p>
<p>　　　　　　　　此类型中的静态方法InitInstance对传入的参数做了一个判断</p>
<p>　　　　　　　　如果条件成立，则对传入参数进行操作之后并把它返回</p>
<p>　　　　　　　　如果条件不成立，则返回一个空值</p>
<p>　　　　　　　　注意：</p>
<p>　　　　　　　　　　[1]</p>
<p>　　　　　　　　　　　　传入参数必须为指定的类型，</p>
<p>　　　　　　　　　　　　因为我们在使用这个泛型类型的时候，已经规定好它能接收什么类型的参数</p>
<p>　　　　　　　　　　　　但在设计这个泛型的时候，我们并不知道使用者将传递什么类型的参数进来</p>
<p>　　　　　　　　　　[2]</p>
<p>　　　　　　　　　　　　如果你想返回T类型的空值，那么请用default(T)这种形式</p>
<p>　　　　　　　　　　　　因为你不知道T是值类型还是引用类型，所以别擅自用null</p>
<p>　　　　　　&lt;3&gt;泛型约束</p>
<p>　　　　　　　　很多时候我们不希望使用者太过自由</p>
<p>　　　　　　　　我们希望他们在使用我们设计的泛型类型时</p>
<p>　　　　　　　　不要很随意的传入任何类型</p>
<p>　　　　　　　　对于泛型类型的设计者来说，要求使用者传入指定的类型是很有必要的</p>
<p>　　　　　　　　因为我们只有知道他传入了什么东西，才方便对这个东西做操作</p>
<p>　　　　　　　　让我们来给上面设计的泛型类型加一个泛型约束</p>
<p>　　　　　　　　代码如下：　　　　　　　　</p>
<p>　　　　　　　　　　public static class SomethingFactory<t> where T:MyObj<br>　　　　　　　　这样在使用SomethingFactory的时候就只能传入MyObj类型或MyObj的派生类型啦</t></p>
<p>　　　　　　　　注意：</p>
<p>　　　　　　　　　　还可以写成这样</p>
<p>　　　　　　　　　　where T:MyObj,new()</p>
<p>　　　　　　　　　　来约束传入的类型必须有一个构造函数。　　　　　　　　</p>
<p>　　　　（3）泛型的好处</p>
<p>　　　　　　&lt;1&gt;算法的重用</p>
<p>　　　　　　　　想想看：list类型的排序算法，对所有类型的list集合都是有用的</p>
<p>　　　　　　&lt;2&gt;类型安全</p>
<p>　　　　　　&lt;3&gt;提升性能</p>
<p>　　　　　　　　没有类型转化了，一方面保证类型安全，另一方面保证性能提升</p>
<p>　　　　　　&lt;4&gt;可读性更好</p>
<p>　　　　　　　　这一点就不解释了 </p>
<h2 id="7-泛型委托"><a href="#7-泛型委托" class="headerlink" title="　　7.泛型委托"></a>　　7.泛型委托</h2><p>　　　　（1）源起</p>
<p>　　　　　　委托需要定义delgate类型</p>
<p>　　　　　　使用起来颇多不便</p>
<p>　　　　　　而且委托本就代表某一类方法</p>
<p>　　　　　　开发人员经常使用的委托基本可以归为三类，</p>
<p>　　　　　　哪三类呢？</p>
<p>　　　　　　请看下面：</p>
<p>　　　　（2）使用</p>
<p>　　　　　　&lt;1&gt;Predicate泛型委托</p>
<p>　　　　　　　　把上面例子中d1和d2赋值的两行代码改为如下：　　　　</p>
<pre><code>        　　//var d1 = new moreOrlessDelgate(More);
        　　var d1 = new Predicate&lt;int&gt;(More);
        　　//var d2 = new moreOrlessDelgate(Less);
        　　var d2 = new Predicate&lt;int&gt;(Less);</code></pre><p>　　　　　　　　把Print方法的方法签名改为如下：　　　　</p>
<pre><code>    　　　　//static void Print(List&lt;int&gt; arr, moreOrlessDelgate&lt;int&gt; dl)
    　　　　static void Print(List&lt;int&gt; arr, Predicate&lt;int&gt; dl)</code></pre><p>　　　　　　　　然后再运行方法，控制台输出的结果和原来的结果是一模一样的。</p>
<p>　　　　　　　　那么Predicate到底是什么呢？</p>
<p>　　　　　　　　来看看他的定义：　　　　</p>
<pre><code>　　　　　　// 摘要:
　　　　　　//     表示定义一组条件并确定指定对象是否符合这些条件的方法。
　　　　　　//
　　　　　　// 参数:
　　　　　　//   obj:
　　　　　　//     要按照由此委托表示的方法中定义的条件进行比较的对象。
　　　　　　//
　　　　　　// 类型参数:
　　　　　　//   T:
　　　　　　//     要比较的对象的类型。
　　　　　　//
　　　　　　// 返回结果:
　　　　　　//     如果 obj 符合由此委托表示的方法中定义的条件，则为 true；否则为 false。
　　　　　　public delegate bool Predicate&lt;in T&gt;(T obj);</code></pre><p>　　　　　　　　看到这个定义，我们大致明白了。</p>
<p>　　　　　　　　.net为我们定义了一个委托，</p>
<p>　　　　　　　　这个委托表示的方法需要传入一个T类型的参数，并且需要返回一个bool类型的返回值</p>
<p>　　　　　　　　有了它，我们就不用再定义moreOrlessDelgate委托了，</p>
<p>　　　　　　　　而且，我们定义的moreOrlessDelgate只能搞int类型的参数，</p>
<p>　　　　　　　　Predicate却不一样，它可以搞任意类型的参数</p>
<p>　　　　　　　　但它规定的还是太死了，它必须有一个返回值，而且必须是布尔类型的，同时，它必须有一个输入参数</p>
<p>　　　　　　　　除了Predicate泛型委托，.net还为我们定义了Action和Func两个泛型委托</p>
<p>　　　　　　&lt;2&gt;Action泛型委托</p>
<p>　　　　　　　　Action泛型委托限制的就不那么死了，</p>
<p>　　　　　　　　他代表了一类方法：</p>
<p>　　　　　　　　可以有0个到16个输入参数，</p>
<p>　　　　　　　　输入参数的类型是不确定的，</p>
<p>　　　　　　　　但不能有返回值，</p>
<p>　　　　　　　　来看个例子：　　　　　　</p>
<pre><code>        　　var d3 = new Action(noParamNoReturnAction);
        　　var d4 = new Action&lt;int, string&gt;(twoParamNoReturnAction);</code></pre><p> 　　　　　　　　注意：尖括号中int和string为方法的输入参数</p>
<pre><code>    　　　　static void noParamNoReturnAction()
    　　　　{
        　　　　//do what you want
    　　　　}
    　　　　static void twoParamNoReturnAction(int a, string b)
    　　　　{
        　　　　//do what you want
    　　　　}</code></pre><p> 　　　　　　&lt;3&gt;Func泛型委托</p>
<p>　　　　　　　　为了弥补Action泛型委托，不能返回值的不足</p>
<p>　　　　　　　　.net提供了Func泛型委托，</p>
<p>　　　　　　　　相同的是它也是最多0到16个输入参数，参数类型由使用者确定</p>
<p>　　　　　　　　不同的是它规定要有一个返回值，返回值的类型也由使用者确定</p>
<p>　　　　　　　　如下示例：　　　　　　</p>
<p>　　　　　　　　　　var d5 = new Func&lt;int, string&gt;(oneParamOneReturnFunc);<br>　　　　　　　　注意：string类型（最后一个泛型类型）是方法的返回值类型</p>
<pre><code>    　　　　static string oneParamOneReturnFunc(int a)
    　　　　{
        　　　　//do what you want
        　　　　return string.Empty;
    　　　　}</code></pre><h2 id="8-匿名方法"><a href="#8-匿名方法" class="headerlink" title="　　8.匿名方法"></a>　　8.匿名方法</h2><p>　　　　（1）源起</p>
<p>　　　　　　在上面的例子中</p>
<p>　　　　　　为了得到序列中较大的值</p>
<p>　　　　　　我们定义了一个More方法　　　　　　</p>
<p>　　　　　　var d1 = new Predicate<int>(More);<br>　　　　　　然而这个方法，没有太多逻辑（实际编程过程中，如果逻辑较多，确实应该独立一个方法出来）</int></p>
<p>　　　　　　那么能不能把More方法中的逻辑，直接写出来呢？</p>
<p>　　　　　　C#2.0之后就可以了，</p>
<p>　　　　　　请看下面的代码：</p>
<p>　　　　（2）使用　　　　　　</p>
<pre><code>var arr = new List&lt;int&gt;() { 1, 2, 3, 4, 5, 6, 7, 8 };
//var d1 = new moreOrlessDelgate(More);
//var d1 = new Predicate&lt;int&gt;(More);
var d1 = new Predicate&lt;int&gt;(delegate(int item)
{</code></pre><p>　　　　　　　　　　//可以访问当前上下文中的变量<br>　　　　　　　　　　Console.WriteLine(arr.Count);</p>
<pre><code>    if (item &gt; 3)

    {
        return true;
    }
    return false;
});
Print(arr, d1);
Console.WriteLine(&quot;OK&quot;);</code></pre><p>　　　　　　我们传递了一个代码块给Predicate的构造函数</p>
<p>　　　　　　其实这个代码块就是More函数的逻辑</p>
<p>　　　　（3）好处</p>
<p>　　　　　　&lt;1&gt;代码可读性更好</p>
<p>　　　　　　&lt;2&gt;可以访问当前上下文中的变量</p>
<p>　　　　　　　　这个用处非常大，</p>
<p>　　　　　　　　如果我们仍旧用原来的More函数</p>
<p>　　　　　　　　想要访问arr变量，势必要把arr写成类级别的私有变量了</p>
<p>　　　　　　　　用匿名函数的话，就不用这么做了。</p>
<h2 id="9-Lambda表达式"><a href="#9-Lambda表达式" class="headerlink" title="　　9.Lambda表达式"></a>　　9.Lambda表达式</h2><p>　　　　（1）源起</p>
<p>　　　　　　.net的设计者发现在使用匿名方法时，</p>
<p>　　　　　　仍旧有一些多余的字母或单词的编码工作</p>
<p>　　　　　　比如delegate关键字</p>
<p>　　　　　　于是进一步简化了匿名方法的写法</p>
<p>　　　　（2）使用　　　　　　</p>
<pre><code>List&lt;int&gt; arr = new List&lt;int&gt;() { 1, 2, 3, 4, 5, 6, 7 };
arr.ForEach(new Action&lt;int&gt;(delegate(int a) { Console.WriteLine(a); }));
arr.ForEach(new Action&lt;int&gt;(a =&gt; Console.WriteLine(a)));</code></pre><p> 　　　　　　匿名方法的代码如下：</p>
<p>　　　　　　delegate(int a) { Console.WriteLine(a); }</p>
<p>　　　　　　使用lambda表达式的代码如下：</p>
<p>　　　　　　a =&gt; Console.WriteLine(a)</p>
<p>　　　　　　这里解释一下这个lambda表达式</p>
<p>　　　　　　&lt;1&gt;</p>
<p>　　　　　　　　a是输入参数，编译器可以自动推断出它是什么类型的，</p>
<p>　　　　　　　　如果没有输入参数，可以写成这样：</p>
<p>　　　　　　　　() =&gt; Console.WriteLine(“ddd”)</p>
<p>　　　　　　&lt;2&gt;</p>
<p>　　　　　　　　=&gt;是lambda操作符</p>
<p>　　　　　　&lt;3&gt;</p>
<p>　　　　　　　　Console.WriteLine(a)是要执行的语句。</p>
<p>　　　　　　　　如果是多条语句的话，可以用{}包起来。</p>
<p>　　　　　　　　如果需要返回值的话，可以直接写return语句</p>
<h2 id="10-扩展方法"><a href="#10-扩展方法" class="headerlink" title="　　10.扩展方法"></a>　　10.扩展方法</h2><p>　　　　（1）源起</p>
<p>　　　　　　如果想给一个类型增加行为，一定要通过继承的方式实现吗？</p>
<p>　　　　　　不一定的！</p>
<p>　　　　（2）使用</p>
<p>　　　　　　来看看这段代码：　　　　</p>
<pre><code>    　　public static void PrintString(this String val)
    　　{
        　　Console.WriteLine(val);
    　　}</code></pre><p>　　　　　　消费这段代码的代码如下：　　　　</p>
<pre><code>var a = &quot;aaa&quot;;
a.PrintString();
Console.ReadKey();</code></pre><p>　　　　　　我想你看到扩展方法的威力了。</p>
<p>　　　　　　本来string类型没有PrintString方法</p>
<p>　　　　　　但通过我们上面的代码，就给string类型”扩展”了一个PrintString方法</p>
<p>　　　　　　（1）先决条件</p>
<p>　　　　　　　　&lt;1&gt;扩展方法必须在一个非嵌套、非泛型的静态类中定义</p>
<p>　　　　　　　　&lt;2&gt;扩展方法必须是一个静态方法</p>
<p>　　　　　　　　&lt;3&gt;扩展方法至少要有一个参数</p>
<p>　　　　　　　　&lt;4&gt;第一个参数必须附加this关键字作为前缀</p>
<p>　　　　　　　　&lt;5&gt;第一个参数不能有其他修饰符（比如ref或者out）</p>
<p>　　　　　　　　&lt;6&gt;第一个参数不能是指针类型</p>
<p>　　　　　　（2）注意事项</p>
<p>　　　　　　　　&lt;1&gt;跟前面提到的几个特性一样，扩展方法只会增加编译器的工作，不会影响性能（用继承的方式为一个类型增加特性反而会影响性能）</p>
<p>　　　　　　　　&lt;2&gt;如果原来的类中有一个方法，跟你的扩展方法一样（至少用起来是一样），那么你的扩展方法奖不会被调用，编译器也不会提示你</p>
<p>　　　　　　　　&lt;3&gt;扩展方法太强大了，会影响架构、模式、可读性等等等等….</p>
<h2 id="11-迭代器"><a href="#11-迭代器" class="headerlink" title="　　11.迭代器"></a>　　11.迭代器</h2><p>　　·　　（1）使用</p>
<p>　　　　　　我们每次针对集合类型编写foreach代码块，都是在使用迭代器</p>
<p>　　　　　　这些集合类型都实现了IEnumerable接口</p>
<p>　　　　　　都有一个GetEnumerator方法</p>
<p>　　　　　　但对于数组类型就不是这样</p>
<p>　　　　　　编译器把针对数组类型的foreach代码块</p>
<p>　　　　　　替换成了for代码块。</p>
<p>　　　　　　来看看List的类型签名：　　　　</p>
<p>　　　　　　public class List<t> : IList<t>, ICollection<t>, IEnumerable<t>, IList, ICollection, IEnumerable<br>　　　　　　IEnumerable接口，只定义了一个方法就是：　　　　</t></t></t></t></p>
<p>　　　　　　IEnumerator<t> GetEnumerator();<br>　　　　（2）迭代器的优点：</t></p>
<p>　　　　　　假设我们需要遍历一个庞大的集合</p>
<p>　　　　　　只要集合中的某一个元素满足条件</p>
<p>　　　　　　就完成了任务</p>
<p>　　　　　　你认为需要把这个庞大的集合全部加载到内存中来吗？</p>
<p>　　　　　　当然不用（C#3.0之后就不用了）！</p>
<p>　　　　　　来看看这段代码：　　　　　　</p>
<pre><code>static IEnumerable&lt;int&gt; GetIterator()
{
    Console.WriteLine(&quot;迭代器返回了1&quot;);
    yield return 1;
    Console.WriteLine(&quot;迭代器返回了2&quot;);
    yield return 2;
    Console.WriteLine(&quot;迭代器返回了3&quot;);
    yield return 3;
}</code></pre><p>　　　　　　消费这个函数的代码如下：　　　　　　</p>
<pre><code>foreach (var i in GetIterator())
{
    if (i == 2)
    {
        break;
    }
    Console.WriteLine(i);
}
Console.ReadKey();</code></pre><p>　　　　　　输出结果为：　　　　　　</p>
<p>　　　　　　迭代器返回了1<br>　　　　　　1<br>　　　　　　迭代器返回了2<br>　　　　　　大家可以看到：</p>
<p>　　　　　　当迭代器返回2之后，foreach就退出了</p>
<p>　　　　　　并没有输出“迭代器返回了3”</p>
<p>　　　　　　也就是说下面的工作没有做。</p>
<p>　　　　（3）yield 关键字</p>
<p>　　　　　　MSDN中的解释如下：</p>
<p>　　　　　　在迭代器块中用于向枚举数对象提供值或发出迭代结束信号。</p>
<p>　　　　　　也就是说，我们可以在生成迭代器的时候，来确定什么时候终结迭代逻辑</p>
<p>　　　　　　上面的代码可以改成如下形式：　　　　　　</p>
<pre><code>    　　static IEnumerable&lt;int&gt; GetIterator()
    　　{
        　　Console.WriteLine(&quot;迭代器返回了1&quot;);
        　　yield return 1;
        　　Console.WriteLine(&quot;迭代器返回了2&quot;);
        　　yield break;
        　　Console.WriteLine(&quot;迭代器返回了3&quot;);
        　　yield return 3;
    　　}</code></pre><p> 　　　　(4)注意事项</p>
<p>　　　　　　&lt;1&gt;做foreach循环时多考虑线程安全性　　　　　　</p>
<p>　　　　　　　　在foreach时不要试图对被遍历的集合进行remove和add等操作</p>
<p>　　　　　　　　任何集合，即使被标记为线程安全的，在foreach的时候，增加项和移除项的操作都会导致异常</p>
<p>　　　　　　　　（我在这里犯过错）</p>
<p>　　　　　　&lt;2&gt;IEnumerable接口是LINQ特性的核心接口</p>
<p>　　　　　　　　只有实现了IEnumerable接口的集合</p>
<p>　　　　　　　　才能执行相关的LINQ操作，比如select,where等</p>
<p>　　　　　　　　这些操作，我们接下来会讲到。</p>
<h2 id="二：LINQ"><a href="#二：LINQ" class="headerlink" title="二：LINQ"></a>二：LINQ</h2><h2 id="1-查询操作符"><a href="#1-查询操作符" class="headerlink" title="　　1.查询操作符"></a>　　1.查询操作符</h2><p>　　　　（1）源起</p>
<p>　　　　　　.net的设计者在类库中定义了一系列的扩展方法</p>
<p>　　　　　　来方便用户操作集合对象</p>
<p>　　　　　　这些扩展方法构成了LINQ的查询操作符</p>
<p>　　　　（2）使用</p>
<p>　　　　　　这一系列的扩展方法，比如：</p>
<p>　　　　　　Where，Max，Select，Sum，Any，Average，All，Concat等</p>
<p>　　　　　　都是针对IEnumerable的对象进行扩展的</p>
<p>　　　　　　也就是说，只要实现了IEnumerable接口，就可以使用这些扩展方法</p>
<p>　　　　　　来看看这段代码：　　　　　　</p>
<pre><code>List&lt;int&gt; arr = new List&lt;int&gt;() { 1, 2, 3, 4, 5, 6, 7 };
var result = arr.Where(a =&gt; { return a &gt; 3; }).Sum();
Console.WriteLine(result);
Console.ReadKey();</code></pre><p>　　　　　　这段代码中，用到了两个扩展方法。</p>
<p>　　　　　　&lt;1&gt;</p>
<p>　　　　　　　　Where扩展方法，需要传入一个Func&lt;int,bool&gt;类型的泛型委托</p>
<p>　　　　　　　　这个泛型委托，需要一个int类型的输入参数和一个布尔类型的返回值</p>
<p>　　　　　　　　我们直接把a =&gt; { return a &gt; 3; }这个lambda表达式传递给了Where方法</p>
<p>　　　　　　　　a就是int类型的输入参数，返回a是否大于3的结果。</p>
<p>　　　　　　&lt;2&gt;</p>
<p>　　　　　　　　Sum扩展方法计算了Where扩展方法返回的集合的和。</p>
<p>　　　　（3）好处</p>
<p>　　　　　　上面的代码中</p>
<p>　　　　　　arr.Where(a =&gt; { return a &gt; 3; }).Sum();</p>
<p>　　　　　　这一句完全可以写成如下代码：</p>
<p>　　　　　　(from v in arr where v &gt; 3 select v).Sum();</p>
<p>　　　　　　而且两句代码的执行细节是完全一样的</p>
<p>　　　　　　大家可以看到,第二句代码更符合语义，更容易读懂</p>
<p>　　　　　　第二句代码中的where，就是我们要说的查询操作符。</p>
<p>　　　　（4）标准查询操作符说明</p>
<p>　　　　　　&lt;1&gt;过滤</p>
<p>　　　　　　　　Where</p>
<p>　　　　　　　　用法：arr.Where(a =&gt; { return a &gt; 3; })</p>
<p>　　　　　　　　说明：找到集合中满足指定条件的元素</p>
<p>　　　　　　　　OfType</p>
<p>　　　　　　　　用法：arr.OfType<int>()</int></p>
<p>　　　　　　　　说明：根据指定类型，筛选集合中的元素</p>
<p>　　　　　　&lt;2&gt;投影</p>
<p>　　　　　　　　Select</p>
<p>　　　　　　　　用法：arr.Select&lt;int, string&gt;(a =&gt; a.ToString());</p>
<p>　　　　　　　　说明：将集合中的每个元素投影的新集合中。上例中：新集合是一个IEnumerable<string>的集合</string></p>
<p>　　　　　　　　SelectMany</p>
<p>　　　　　　　　用法：arr.SelectMany&lt;int, string&gt;(a =&gt; { return new List<string>() { “a”, a.ToString() }; });</string></p>
<p>　　　　　　　　说明：将序列的每个元素投影到一个序列中，最终把所有的序列合并</p>
<p>　　　　　　&lt;3&gt;还有很多查询操作符，请翻MSDN，以后有时间我将另起一篇文章把这些操作符写全。　　　　　　</p>
<h2 id="2-查询表达式"><a href="#2-查询表达式" class="headerlink" title="　　2.查询表达式"></a>　　2.查询表达式</h2><p>　　　　（1）源起</p>
<p>　　　　　　上面我们已经提到，使用查询操作符表示的扩展方法来操作集合；</p>
<p>　　　　　　虽然已经很方便了，但在可读性和代码的语义来考虑，仍有不足；</p>
<p>　　　　　　于是就产生了查询表达式的写法。</p>
<p>　　　　　　虽然这很像SQL语句，但他们却有着本质的不同。</p>
<p>　　　　（2）用法</p>
<p>　　　　　　from v in arr where v &gt; 3 select v</p>
<p>　　　　　　这就是一个非常简单的查询表达式</p>
<p>　　　　（3）说明：</p>
<p>　　　　　　先看一段伪代码：　　　　　　</p>
<p>　　　　　　from [type] id in source<br>　　　　　　[join [type] id in source on expr equals expr [into subGroup]]<br>　　　　　　[from [type] id in source | let id = expr | where condition]<br>　　　　　　[orderby ordering,ordering,ordering…]<br>　　　　　　select expr | group expr by key<br>　　　　　　[into id query]<br>　　　　　　&lt;1&gt;第一行的解释：</p>
<p>　　　　　　　　type是可选的，</p>
<p>　　　　　　　　id是集合中的一项，</p>
<p>　　　　　　　　source是一个集合，</p>
<p>　　　　　　　　如果集合中的类型与type指定的类型不同则导致强制类型转化</p>
<p>　　　　　　&lt;2&gt;第二行的解释：　　　　　　　　</p>
<p>　　　　　　　　一个查询表达式中可以有0个或多个join子句，</p>
<p>　　　　　　　　这里的source可以是一个全新的集合，可以不等于第一句中的source</p>
<p>　　　　　　　　expr可以是一个表达式</p>
<p>　　　　　　　　[into subGroup] subGroup是一个中间变量，</p>
<p>　　　　　　　　它继承自IGrouping，代表一个分组，也就是说“一对多”里的“多”</p>
<p>　　　　　　　　可以通过这个变量得到这一组包含的对象个数，以及这一组对象的键</p>
<p>　　　　　　　　比如：　　　　　　　　</p>
<p>　　　　　　　　from c in db.Customers<br>        　　　　join o in db.Orders on c.CustomerID<br>        　　　　equals o.CustomerID into orders<br>        　　　　select new<br>        　　　　{<br>            　　　　c.ContactName,<br>            　　　　OrderCount = orders.Count()<br>        　　　　};</p>
<p>　　　　　　&lt;3&gt;第三行的解释：　　　　　</p>
<p>　　　　　　　　一个查询表达式中可以有1个或多个from子句</p>
<p>　　　　　　　　一个查询表达式中可以有0个或多个let子句，let子句可以创建一个临时变量</p>
<p>　　　　　　　　比如：　　　　　　　　</p>
<pre><code>    　　　　from u in users
     　　　　let number = Int32.Parse(u.Username.Substring(u.Username.Length - 1))
     　　　　where u.ID &lt; 9 &amp;&amp; number % 2 == 0
     　　　　select u</code></pre><p>　　　　　　　　一个查询表达式中可以有0个或多个where子句，where子句可以指定查询条件</p>
<p>　　　　　　&lt;4&gt;第四行的解释：</p>
<p>　　　　　　　　一个查询表达式可以有0个或多个排序方式</p>
<p>　　　　　　　　每个排序方式以逗号分割</p>
<p>　　　　　　&lt;5&gt;第五行的解释：</p>
<p>　　　　　　　　一个查询表达式必须以select或者group by结束</p>
<p>　　　　　　　　select后跟要检索的内容</p>
<p>　　　　　　　　group by 是对检索的内容进行分组</p>
<p>　　　　　　　　比如：　　　　　　　　</p>
<pre><code>    　　　　from p in db.Products  
    　　　　group p by p.CategoryID into g  
    　　　　select new {  g.Key, NumProducts = g.Count()}; </code></pre><p>　　　　　　&lt;6&gt;第六行的解释：</p>
<p>　　　　　　　　最后一个into子句起到的作用是</p>
<p>　　　　　　　　将前面语句的结果作为后面语句操作的数据源</p>
<p>　　　　　　　　比如：　　　　　　　　</p>
<pre><code>    　　　　from p in db.Employees
     　　　　select new
     　　　　{
         　　　　LastName = p.LastName,
         　　　　TitleOfCourtesy = p.TitleOfCourtesy
     　　　　} into EmployeesList
     　　　　orderby EmployeesList.TitleOfCourtesy ascending
     　　　　select EmployeesList;</code></pre><h2 id="三：参考资料"><a href="#三：参考资料" class="headerlink" title="三：参考资料"></a>三：参考资料</h2><p>　　《LINQ实战》</p>
<p>　　《深入理解C#》第二版</p>
<p>　　《CLR VIA C#》第三版</p>
<p>　　《C# 高级编程》第四版</p>
<p>　　还有很多网络上的文章，就不一一例举了</p>
<h2 id="转自：https-www-cnblogs-com-liulun-archive-2013-02-26-2909985-html-3748094"><a href="#转自：https-www-cnblogs-com-liulun-archive-2013-02-26-2909985-html-3748094" class="headerlink" title="转自：https://www.cnblogs.com/liulun/archive/2013/02/26/2909985.html#3748094"></a>转自：<a href="https://www.cnblogs.com/liulun/archive/2013/02/26/2909985.html#3748094" target="_blank" rel="noopener">https://www.cnblogs.com/liulun/archive/2013/02/26/2909985.html#3748094</a></h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RobinYu</p>
              <p class="site-description motion-element" itemprop="description">细节.规范.努力.奋斗</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RobinYu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
